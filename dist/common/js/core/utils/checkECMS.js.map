{"version":3,"sources":["../../../../../src/common/js/core/utils/checkECMS.js"],"names":["root","name","factory","define","amd","exports","features","evaluate","code","eval","e","supports","i","len","arguments","length","feature","toString","hasOwnProperty","checkES7","checkES6","methods","Object","assign","freeze","syntax","checkES5","filter","Function","prototype","bind","defineProperty","trim","JSON","checkES3","detectVersion"],"mappings":"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","sourcesContent":["/**\n * Sacado de aqui. \n * https://codereview.stackexchange.com/questions/147892/small-javascript-library-for-ecmascript-version-detection\n * \n * Permite aÃ±adir compribaciones futuras que se detecten. \n * TODO -> Se deberia cambiar eval por new Function por una mejor praxis.\n */\n;(function (root, name, factory) {\n    'use strict';\n  \n    if ((\"function\" === typeof define) && define.amd)\n      define([exports], factory);\n  \n    else if (typeof exports === 'object')\n      factory(exports);\n  \n    else\n      factory(root[name] = {});\n  \n  })(this, 'esx', function (exports) {\n    'use strict';\n  \n    var features = {\n        \"arrayComprehensions\": \"[for(_ of [0])_]\"\n      , \"arrowFunction\": \"(_=>_)\"\n      , \"class\": \"(class{})\"\n      , \"const\": \"const c=true\"\n      , \"defaultParams\": \"(function(a=false){})\"\n      , \"destructuring\": \"let {d}={a:true}\"\n      , \"forOf\": \"for(var b of [])\"\n      , \"generator\": \"(function*(){})\"\n      , \"getter\": \"({get a(){}})\"\n      , \"label\": \"l:0\"\n      , \"let\": \"let o\"\n      , \"reservedWords\": \"({catch:true})\"\n      , \"setter\": \"({set a(v){}})\"\n      , \"spread\": \"[...[]]\"\n      , \"stringInterpolation\": \"`$\\{0}`\"\n      , \"stringLineBreak\": \"'\\\\\\n'\"\n      , \"super\": \"({b(){super.a}})\"\n      , \"yield\": \"(function*(){yield true})\"\n    };\n  \n    // exports.features = features;\n  \n    function evaluate (code) {\n      try {\n        eval(code);\n        return true;\n      } catch(e) {\n        return false;\n      }\n    }\n  \n    /**\n     * Check if a set of features are supported.\n     */\n    function supports () {\n      var code = \"(function(){\";\n      var i = 0, len = arguments.length;\n  \n      for (; i < len; ++i) {\n        var feature = arguments[i].toString();\n  \n        if (features.hasOwnProperty(feature))\n          code += features[feature] + ';';\n      }\n  \n      code += \"})()\";\n      return evaluate(code);\n    }\n  \n    exports.supports = supports;\n  \n    function checkES7 () {\n      return supports(\"arrayComprehensions\");\n    }\n  \n    function checkES6 () {\n      var methods = 'function' === typeof Object.assign &&\n                    'function' === typeof Object.freeze;\n  \n      var syntax = supports(\n                           \"arrowFunction\"\n                         , \"class\"\n                         , \"const\"\n                         , \"forOf\"\n                         , \"defaultParams\"\n                         , \"destructuring\"\n                         , \"super\"\n                         , \"yield\"\n                         );\n  \n      return methods && syntax;\n    }\n  \n    function checkES5 () {\n      var methods = 'function' === typeof [].filter &&\n                    'function' === typeof Function.prototype.bind &&\n                    'function' === typeof Object.defineProperty &&\n                    'function' === typeof ''.trim &&\n                    'object'   === typeof JSON;\n  \n      var syntax = supports(\"reservedWords\");\n      return methods && syntax;\n    }\n  \n    function checkES3 () {\n      return \"function\" === typeof [].hasOwnProperty;\n    }\n  \n    /**\n     * Check for ECMAScript version.\n     */\n    exports.detectVersion = function () {\n      return checkES7() ? 7 :\n             checkES6() ? 6 :\n             checkES5() ? 5 :\n             checkES3() ? 3 :\n             null;\n    };\n  \n  });"],"file":"checkECMS.js"}